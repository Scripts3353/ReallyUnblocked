<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login</title>
<style>
  :root {
    --purple1: #3a0ca3;
    --purple2: #240046;
    --accent: #9d4edd;
  }
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(135deg, var(--purple1), var(--purple2));
    height: 100vh;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
  }
  .login-box {
    background: rgba(25, 0, 40, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    border-radius: 14px;
    width: 340px;
    max-width: 92vw;
    padding: 30px;
  }
  h1 {
    margin: 0 0 6px;
    text-align: center;
  }
  p.subtitle {
    margin: 0 0 18px;
    text-align: center;
    opacity: 0.8;
    font-size: 14px;
  }
  label {
    font-size: 13px;
    opacity: 0.9;
  }
  input {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin-top: 6px;
    margin-bottom: 14px;
    background: rgba(255,255,255,0.08);
    color: #fff;
    font-size: 14px;
  }
  input:focus {
    outline: 2px solid var(--accent);
  }
  button {
    width: 100%;
    padding: 10px;
    border: none;
    background: linear-gradient(90deg, #9d4edd, #7b2cbf);
    border-radius: 8px;
    color: #fff;
    font-size: 15px;
    cursor: pointer;
    font-weight: 600;
  }
  button:hover {
    opacity: 0.9;
  }
  .error {
    color: #ffb3c6;
    font-size: 13px;
    display: none;
    text-align: center;
    margin-top: 10px;
  }
  .temp {
    margin-top: 20px;
    font-size: 13px;
    background: rgba(255,255,255,0.05);
    border-radius: 8px;
    padding: 10px;
  }
  .temp b {
    color: #fff;
  }
  .countdown {
    font-weight: 700;
    color: #fff;
  }
</style>
</head>
<body>
  <div class="login-box">
    <h1>Sign In</h1>
    <p class="subtitle">Enter your email and password</p>

    <label>Email</label>
    <input type="email" id="email" placeholder="you@example.com" />

    <label>Password</label>
    <input type="password" id="password" placeholder="password" />

    <button id="loginBtn">Login</button>
    <div class="error" id="errorMsg">Invalid email or password.</div>

    <div class="temp">
      <div>Temporary login (changes hourly):</div>
      <div id="tempLogin"><b>Loading...</b></div>
      <div>Expires in <span class="countdown" id="countdown">--:--</span></div>
    </div>
  </div>

<script>
// --- Static users you create manually ---
const users = {
  "admin@example.com": "admin123",
  "test@example.com": "12345"
};

// --- Temporary rotating logins (rotates hourly) ---
const tempLogins = [
  { email: "temp1@site.com", password: "hourly-01" },
  { email: "temp2@site.com", password: "hourly-02" },
  { email: "temp3@site.com", password: "hourly-03" },
  { email: "temp4@site.com", password: "hourly-04" },
  { email: "temp5@site.com", password: "hourly-05" }
];

function getActiveTemp() {
  const hourIndex = Math.floor(Date.now() / 3600000);
  const idx = hourIndex % tempLogins.length;
  return tempLogins[idx];
}

function updateTempDisplay() {
  const active = getActiveTemp();
  document.getElementById("tempLogin").innerHTML = `<b>${active.email}</b> / ${active.password}`;
  const now = Date.now();
  const nextHour = (Math.floor(now / 3600000) + 1) * 3600000;
  const remaining = nextHour - now;
  const mins = Math.floor(remaining / 60000);
  const secs = Math.floor((remaining % 60000) / 1000);
  document.getElementById("countdown").textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
}
updateTempDisplay();
setInterval(updateTempDisplay, 1000);

function validLogin(email, pass) {
  if (users[email] && users[email] === pass) return true;
  const temp = getActiveTemp();
  return (email === temp.email && pass === temp.password);
}

document.getElementById("loginBtn").addEventListener("click", () => {
  const email = document.getElementById("email").value.trim();
  const pass = document.getElementById("password").value.trim();
  const error = document.getElementById("errorMsg");

  if (validLogin(email, pass)) {
    localStorage.setItem("loggedIn", "true");

    // Open about:blank tab and inject index.html
    const win = window.open("about:blank", "_blank");
    fetch("index.html")
      .then(res => res.text())
      .then(html => {
        win.document.open();
        win.document.write(html);
        win.document.close();
      });

    // Also redirect this page normally
    window.location.href = "index.html";
  } else {
    error.style.display = "block";
  }
});

// Auto redirect if already logged in
if (localStorage.getItem("loggedIn") === "true") {
  window.location.href = "index.html";
}
</script>
</body>
</html>

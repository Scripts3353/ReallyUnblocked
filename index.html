<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #6a0dad, #3c0f5f);
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .login-box {
    background: rgba(30, 30, 50, 0.95);
    padding: 30px;
    border-radius: 15px;
    text-align: center;
    width: 300px;
  }
  p {
    margin-top: 20px;
    font-size: 14px;
    color: #ccc;
    word-break: break-all;
  }
</style>
</head>
<body>
  <div class="login-box">
    <h2>Welcome!</h2>
    <p id="loginInfo">Generating your device login...</p>
  </div>

<script>
const localKey = 'deviceLogin';

// If device already has login, go straight to site
const existingLogin = localStorage.getItem(localKey);
if (existingLogin) {
    window.location.href = 'site.html';
} else {
    // Generate permanent device login
    const deviceId = 'dev-' + Math.random().toString(36).slice(2,10);
    const username = 'u_' + Math.random().toString(36).slice(2,8);
    const password = Math.random().toString(36).slice(2,10);

    const loginData = { deviceId, username, password };
    localStorage.setItem(localKey, JSON.stringify(loginData));

    const info = document.getElementById('loginInfo');
    info.textContent = `Your login has been created!
Username: ${username}
Password: ${password}
Device ID: ${deviceId}`;

    // Redirect to site after 1s
    setTimeout(() => {
        window.location.href = 'site.html';
    }, 1000);
}
</script>
</body>
</html>
